<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <link rel="icon" type="image/svg+xml" href="assets/img/tree.svg" />
        <title>aoc-jsui</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
        />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css"
        />
        <!-- One place to bump cache-busting for ALL local assets -->
        <script>
            window.AOC_ASSET_VERSION = '12162025.2';
            (function () {
                const v = encodeURIComponent(window.AOC_ASSET_VERSION || 'dev');
                document.write(`<link rel="stylesheet" href="assets/css/app.css?v=${v}" />`);
            })();
        </script>
    </head>

    <body data-bs-theme="dark">
        <div class="container pt-4">
            <div class="d-flex align-items-center justify-content-center pt-3 position-relative">
                <div class="text-center flex-grow-1">
                    <h1 class="display-1 mb-0">
                        <a href="index.html"><i class="bi bi-tree text-success"></i></a>
                    </h1>
                    <p class="lead mb-0">
                        aoc-jsui <span class="text-danger">{</span><span id="aocHeaderYear" class="text-warning"></span
                        ><span class="text-danger">}</span>
                    </p>
                    <div class="text-muted fs-7">click a day and go</div>
                </div>
                <div class="d-flex gap-2 position-absolute top-0 end-0 mt-2 me-2 position-md-static mt-md-0 me-md-0">
                    <!-- GitHub -->
                    <a
                        href="https://github.com/DustinCarpenter/aoc-jsui"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="btn btn-sm btn-outline-secondary d-none d-md-inline-flex"
                        title="View project on GitHub"
                    >
                        <i class="bi bi-github text-warning"></i>
                    </a>
                    <!-- Reddit -->
                    <a
                        href="https://www.reddit.com/r/adventofcode/"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="btn btn-sm btn-outline-secondary"
                        title="Advent of Code on Reddit"
                    >
                        <i class="bi bi-reddit text-danger"></i>
                    </a>
                    <!-- Theme toggle -->
                    <div
                        type="button"
                        id="themeToggle"
                        class="btn btn-sm btn-outline-secondary d-none d-md-inline-flex"
                        role="button"
                        title="Toggle theme"
                    >
                        <i class="bi bi-moon-stars-fill text-success"></i>
                    </div>
                    <!-- Settings -->
                    <button
                        type="button"
                        id="settingsModalBtn"
                        class="btn btn-sm btn-outline-secondary"
                        data-bs-toggle="modal"
                        data-bs-target="#settingsModal"
                        title="Settings"
                    >
                        <i class="bi bi-gear-fill text-info"></i>
                    </button>
                </div>
            </div>
            <hr />
            <div data-include="nav.html" id="mainNav"></div>
            <div class="container mt-3" id="mainContent">
                <div id="dayContainer" class="d-none"></div>
            </div>
            <div data-include="settings.html" id="settingsHost"></div>
            <footer class="aoc-footer border-top">
                <p>
                    This site is an independent JS environment built as a personal project for solving the puzzles in a
                    custom UI.
                </p>
                <p>
                    All Advent of Code puzzles and content are created by
                    <a href="https://adventofcode.com" class="text-success" target="_blank" rel="noopener noreferrer"
                        >Advent of Code</a
                    >
                    and are Â© Eric Wastl.
                </p>
            </footer>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
            crossorigin="anonymous"
        ></script>
        <!-- Local JS (cache-busted, parser-blocking, correct execution order) -->
        <script>
            (function () {
                const v = encodeURIComponent(window.AOC_ASSET_VERSION || 'dev');
                const scripts = [
                    'assets/js/config.js',
                    'assets/js/aoc.settings.js',
                    'assets/js/app.js',
                    'assets/js/ui.nav.js',
                    'assets/js/ui.editors.js',
                    'assets/js/aoc.day.js',
                    'assets/js/router.js',
                ];

                for (const src of scripts) {
                    document.write(`<script src="${src}?v=${v}"><\/script>`);
                }
            })();
        </script>
    </body>
</html>
